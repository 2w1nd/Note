# InnoDB记录结构

真实数据在不同存储引擎中存放的格式一般是不同的

InnoDB 采取的方式是： 将数据划分为若干个页，以页作为磁盘和内存之间交互的基本单位，InnoDB中页的大小一般为16KB 

四种行格式： 

`Compact `、 `Redundant` 、

`Dynamic`、  `Compressed`

## 1. 行格式

### 1.1  Compact行格式...





`type`：访问类型排列

从最好到最差依次是：`system` > ` const ` > ` eq_ref ` > ` ref ` > ` range ` > ` index ` > ` ALL `。除了`ALL`没有用到索引，其他级别都用到索引了。

一般来说，得保证查询至少达到` range `级别，最好达到` ref `

- ` system `

    表只有一行记录（等于系统表），这是`const`类型的特例，平时不会出现，这个可以忽略不计。

- ` const `

    表示通过索引一次就找到了，`const`用于比较`primary key`或者`unique`索引。因为只匹配一行数据，所以很快。如将主键置于`where`中，MySQL就能将该查询转化为一个常量 

- ` eq_ref `

    唯一性索引扫描，对于每个索引键，表中只有一条记录与之匹配，常见于主键或唯一索引扫描。除了 `system` 和`const` 类型之外, 这是最好的联接类型。 

- `ref`

    非唯一性索引扫描，返回本表和关联表某个值匹配的所有行，查出来有多条记录。 

- ` range `

    只检索给定范围的行，一般就是在`WHERE`语句中出现了`BETWEEN`、`< >`、`in`等的查询。这种范围扫描索引比全表扫描要好，因为它只需要开始于索引树的某一点，而结束于另一点，不用扫描全部索引。 

- ` index `

    `Full Index Scan`，全索引扫描，`index`和`ALL`的区别为`index`类型只遍历索引树。

​		 也就是说虽然 ` ALL ` 和 ` index ` 都是读全表，但是 ` index ` 是从索引中读的， ` ALL ` 是从磁盘中读取的。  

- ` ALL `

    `Full Table Scan`，没有用到索引，全表扫描。
